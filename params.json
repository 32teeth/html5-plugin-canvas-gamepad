{"name":"html5-plugin-canvas-gamepad","tagline":"html5 Canvas Gamepad Plugin","body":"#CanvasGamepad\r\n----\r\n\r\nSo you want to add a gamepad to a html5/canvas based app in [html5](http://html5.apache.org/)\r\n\r\n***npm i html5-plugin-canvas-gamepad***\r\n\r\n###CanvasGamepad setup and configurations\r\n---\r\nin you html file add *CanvasGamepad.setup()*\r\n\r\n```\r\n/*\r\n** this is a basic joystick and 1 button setup with start and select buttons\r\n*/\r\nonDeviceReady: function() {\r\n\tCanvasGamepad.setup();\r\n}\r\n```\r\n\r\n##Configuration options\r\n\r\n*CanvasGamepad is fully customizable, from button names, colors, layout and more.*\r\n\r\n| property | type | value(s) | description | example |\r\n|-:|:-|:-|:-|:-|\r\n|debug|boolean|true\\|false|show or hide event debug info<br>*default is false*|```debug:false```|\r\n|trace|boolean|true\\|false|show or hide gamepad trace info<br>*default is false*|```trace:false```|\r\n|canvas|string|id of target canvas|*if left out, creates a new canvas object*|```canvas:\"game\"```|\r\n|buttons|array|[]|collection of button objects|```[{name:\"x\",color:\"rgba(255,255,0,0.5)\"}]```|\r\n|button|object|{name:string,color:hex\\|rgb\\|rgba}|properties for custom buttons|```[{name:\"x\",color:\"rgba(255,255,0,0.5)\"},{name:\"y\",color:\"rgba(255,0,255,0.5)\"}]```|\r\n|layout|string|TOP_LEFT \\| TOP_RIGHT \\| BOTTOM_LEFT \\| BOTTOM_RIGHT|cardinal position of buttons<br>*default is **BOTTOM_RIGHT***|```layout:\"BOTTOM_RIGHT\"```|\r\n|start|boolean|true\\|false|display start button<br>*default is true*|```start:false```|\r\n|select|boolean|true\\|false|display select button<br>*default is false*|```select:false```|\r\n|joystick|boolean|true\\|false|display joystick/dpad<br>*default is false*|```debug:false```|\r\n|hidden|boolean|true\\|false|show or hide the gamepad<br>*default is false*|<br>this can be used to *hide* the gamepad if you are doing something else on screen|```hidden:false```|\r\n\r\n***if you are using [multikey.js](http://multikey.32teeth.org/) to extend the CanvasGamepad for keyboard access***\r\n\r\n| property | type | value(s) | description | example |\r\n|-:|:-|:-|:-|:-|\r\n|buttons|array|[]|collection of button objects|```[{name:\"x\",color:\"rgba(255,255,0,0.5)\", key:\"[keyboard letter]\"}]```|\r\n|button|object|{name:string,color:hex\\|rgb\\|rgba}|properties for custom buttons|```[{name:\"x\",color:\"rgba(255,255,0,0.5)\", key:\"w\"},{name:\"y\",color:\"rgba(255,0,255,0.5)\", key:\"q\"}]```|\r\n|hint|boolean|true\\|false|show or hidekeyboard hint<br>*default is false*|```hint:true```|\r\n\r\n###Config examples\r\n######*default options*\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-1.png)\r\n\r\n```\r\nCanvasGamepad.setup();\r\n```\r\n\r\n######*one button, custom name, no start button*\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-2.png)\r\n\r\n```\r\nCanvasGamepad.setup({\r\n\tstart:false,\r\n\tbuttons:[\r\n\t\t{name:\"jump\"}\r\n\t]\r\n});\r\n```\r\n\r\n######*two buttons, custom names, custom colors, with select button*\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-3.png)\r\n\r\n```\r\nCanvasGamepad.setup({\r\n\tselect:true,\r\n\tbuttons:[\r\n\t\t{name:\"x\",color:\"rgba(255,255,0,0.5)\"},\r\n\t\t{name:\"y\",color:\"rgba(0,255,255,0.75)\"}\r\n\t]\r\n});\r\n```\r\n\r\n######*target canvas*\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-4.png)\r\n\r\n```\r\nCanvasGamepad.setup({\r\n\tcanvas:\"game\"\r\n});\r\n```\r\n\r\n######*change layout canvas*\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-5.png)\r\n\r\n```\r\nCanvasGamepad.setup({\r\n\tlayout:\"BOTTOM_LEFT\"\r\n});\r\n```\r\n\r\n######*show trace & debug info*\r\n\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-6.png)\r\n\r\n```\r\nCanvasGamepad.setup({\r\n\ttrace:true,\r\n\tdebug:true\r\n});\r\n```\r\n\r\n######*all out everything*\r\n\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-7.png)\r\n\r\n```\r\nCanvasGamepad.setup({\r\n\tselect:true,\r\n\ttrace:true,\r\n\tdebug:true,\r\n\tcanvas:\"game\",\r\n\tbuttons:[\r\n\t\t{name:\"z\", color:\"#17861c\"},\r\n\t\t{name:\"y\", color:\"rgb(134, 83, 23)\"},\r\n\t\t{name:\"x\", color:\"rgba(204, 0, 51, 0.5)\"},\t\t\r\n\t]\r\n});\r\n```\r\n\r\n######*hidden gamepad*\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-8.png)\r\n\r\n```\r\nCanvasGamepad.setup({\r\n\thidden:true\r\n});\r\n```\r\n\r\n######*real world example*\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-9.png)\r\n\r\n```\r\n/*\r\n** @description start the game\r\n*/\r\ngame.init();\r\n/*\r\n** @description setup gamepad, no stick, no start, one button\r\n*/    \r\nCanvasGamepad.setup({\r\n\tcanvas:\"controller\",\r\n\tjoystick:false,\r\n\tstart:false, \r\n\tbuttons:[\r\n\t\t{name:\"jump\", color:\"rgba(0,0,0,0.25)\"}\r\n\t]\r\n});  \r\n```\r\n\r\n######*example using key binding with [multikey.js](http://multikey.32teeth.org/)*\r\n\r\n![default options](https://raw.githubusercontent.com/32teeth/html5-plugin-canvas-gamepad/master/images/CDVGamepad-10.png)\r\n\r\n```\r\nCanvasGamepad.setup(\r\n  {\r\n    canvas:\"controller\",\r\n    start:{name:\"start\", key:\"b\"},\r\n    select:{name:\"select\", key:\"v\"},\r\n    trace:true,\r\n    debug:true,\r\n    hint:true,\r\n    buttons:[\r\n      {name:\"a\", \"key\":\"s\"},\r\n      {name:\"b\", \"key\":\"a\"},\r\n      {name:\"x\", \"key\":\"w\"},\r\n      {name:\"y\", \"key\":\"q\"}\r\n    ]      \r\n  }\r\n);\r\nmultikey.setup(CanvasGamepad.events, \"qwasbv\", true);\r\n```\r\nthe above code is running in [this example](https://github.com/32teeth/html5-plugin-canvas-gamepad/tree/master/example)\r\n\r\n###CanvasGamepad observable method\r\n---\r\nCanvasGamepad has an observable method that returns the current state map of the gamepad\r\n\r\n**observe();**\r\n\r\n```\r\nCanvasGamepad.setup()\r\n/*\r\n** @description the below example simply logs out the observe method return\r\n*/\r\nsetInterval(\r\n\tfunction()\r\n\t{\r\n\t\tvar map = CanvasGamepad.observe();\r\n\t\tconsole.log(new Date() + \":\" + JSON.stringify(map))\r\n\t}\r\n\t,1000\r\n);\r\n```\r\n\r\n\r\n```\r\n/*\r\n** @description additionally, you can throw it into your main loop in canvas\r\n*/\r\nfunction draw()\r\n{\r\n\tif(CanvasGamepad)\r\n\t{\r\n\t\tgamepad(CanvasGamepad.observe())\r\n\t}\r\n}\r\n```","google":"UA-1812163-40","note":"Don't delete this file! It's used internally to help with page regeneration."}